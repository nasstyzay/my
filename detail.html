<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="View and manage your piggy bank transactions. Add expenses, filter by date, and track your savings progress.">
    <title>üê∑ Piggy Bank Details - Savings Tracker</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí∞</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="detail-container">
        <!-- Header with Gradient -->
        <div class="detail-header" id="detailHeader" role="banner">
            <button class="back-button" onclick="goBack()" aria-label="Go back to dashboard">
                <span aria-hidden="true">‚Üê</span> Back to Dashboard
            </button>
            
            <div class="detail-title-section">
                <div class="color-indicator"></div>
                <h1 class="detail-piggy-name" id="detailPiggyName">Loading...</h1>
            </div>
            
            <div class="detail-total" id="detailTotal">$0.00</div>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
            <h3>Savings Progress</h3>
            <p><span id="transactionCountDetail">0</span> transactions recorded</p>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content-section">
            <!-- Date Filter -->
            <div class="date-filter-section">
                <h3>Filter Transactions</h3>
                <div class="date-filter-controls">
                    <input type="date" id="filterStartDate" placeholder="Start Date" />
                    <input type="date" id="filterEndDate" placeholder="End Date" />
                    <button class="btn btn-secondary" id="btnClearFilter">Clear Filter</button>
                </div>
            </div>

            <!-- Add Expense Form -->
            <div class="add-expense-form">
                <h3>Add New Expense</h3>
                <div class="form-row">
                    <div class="form-field">
                        <label for="expenseAmount">Amount *</label>
                        <input type="number" id="expenseAmount" placeholder="0.00" step="0.01" min="0.01" required>
                    </div>
                    <div class="form-field">
                        <label for="expenseDescription">Description</label>
                        <input type="text" id="expenseDescription" placeholder="What did you spend on? (optional)">
                    </div>
                    <div class="form-field">
                        <label for="expenseDate">Date</label>
                        <input type="date" id="expenseDate" required>
                    </div>
                    <button class="btn btn-primary" onclick="addExpense()">Add Expense</button>
                </div>
            </div>

            <!-- Expense List -->
            <div class="expense-list">
                <h3>Transaction History</h3>
                <div id="expenseListContainer">
                    <p class="empty-state">No expenses yet. Add your first expense above!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Editing Transaction -->
    <div class="modal" id="editTransactionModal" role="dialog" aria-labelledby="editTransactionTitle" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="editTransactionTitle">Edit Transaction</h2>
                <button class="btn-close" id="btnCloseEditTransaction" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-field">
                    <label for="editTransactionAmount">Amount *</label>
                    <input type="number" id="editTransactionAmount" step="0.01" min="0.01" required>
                </div>
                <div class="form-field">
                    <label for="editTransactionDescription">Description</label>
                    <input type="text" id="editTransactionDescription" placeholder="What did you spend on?">
                </div>
                <div class="form-field">
                    <label for="editTransactionDate">Date</label>
                    <input type="date" id="editTransactionDate" required>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('editTransactionModal')">Cancel</button>
                <button class="btn btn-primary" id="btnSaveTransaction">Save Changes</button>
            </div>
        </div>
    </div>

    <script src="detail.js"></script>
</body>
</html>
